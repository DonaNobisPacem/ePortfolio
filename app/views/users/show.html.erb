<% provide(:title, 'User Profile') %>
<div class="container-fluid" style="background-color: #015629; padding-top: 5%; padding-bottom: 5%">
    <div class="hero-unit offset4" style="background-color: #e6fae1; width: 40%" align="center">

<h2>User Profile</h2>
	<%= image_tag @user_profile.image_url(:thumb).to_s%>
    <p id="notice"> <%= notice %> </p>
    <% if @current_user != @user %>
	    <% if @current_user.friend_with? @user %>
	    	<%= link_to "Remove friend", friends_path(:user_id => @user.id), :method => "delete" %>
	    <% elsif @current_user.invited? @user %>
	    	Pending
	    <% else %>
	    	<%= link_to "Add friend", friends_path(:user_id => @user.id), :method => "post" %>
	    <% end %>
	<% else %>
	Pending Friend Invites:
	<table class="table table-striped table-bordered">
		<tr>
			<th>Username</th>
			<th>Confirmation</th>
		</tr>
		<% @current_user.pending_invited_by.each do |pending| %>
		<tr>
			<td class="span3" style="word-wrap:break-word"> <%= link_to User.find(pending.id).username, pending %> </td>
			<td class="span3" style="word-wrap:break-word"> <%= link_to "Confirm friend?", friend_path(pending.id), :method => "put" %> </td>
		</tr>
    	<% end %>

	</table>
	<% end %>
    <h3>
      <!--<b>Title:</b> Use this instead for header-->
      <%= @user_profile.name %>
    </h3>
    Friend List:

    <table class="table table-striped table-bordered">

		<tr>
			<th>Username</th>
		</tr>
    <% @friends.each do |friend| %>
    	<tr>
			<td class="span3" style="word-wrap:break-word"> <%= link_to User.find(friend.id).username, friend %> </td>
		</tr>
    <% end %>

	</table>
	<b>Educ:</b>
	<% @education = Education.where( :user_profile_id => @user_profile.id ) %>
	<% @education.each do |educ| %>
		<%= educ.school %>
	<%end%>

</div><!-- /hero-unit-->
  </div><!-- /containerfluid -->
