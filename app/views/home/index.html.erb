<% provide(:title, 'ePortfolio') %>

<% if user_signed_in? %>
  
  
	<table class="table table-striped table-bordered">
		<tr>
			<th>Title</th>
			<th>Contributor</th>
			<th>Description</th>
			<th>Tags</th>
		</tr>
		<% @projects.each do |project| %>
			<tr>
				<td class="span2" style="word-wrap:break-word"> <%= link_to project.title, project %> </td>
				<td class="span3" style="word-wrap:break-word"> <%= User.find(current_user.id).username %> </td>
				<td class="span1" style="word-wrap:break-word"> <%= project.description %> </td>       
				<td class="span1" style="word-wrap:break-word"><%= raw project.tag_list.map { |t| link_to t, tag_path(t) }.join(', ') %></td>
			</tr>
		<% end %>
	</table>
	<%= will_paginate @projects %>
	<%= link_to 'Create Project', new_project_path, class: "btn btn-large btn-primary" %>

<% else %>

  <div class="container-fluid" style="background-color: #015629; padding-top: 3%; padding-bottom: 5%;">
      <div class="row-fluid">
        <div class="span3" style="margin-left: 5%; margin-right: 4%;">
          <br><br><br><br><br>
        
          <div class="well sidebar-nav" style="background-color: #e6fae1">
            <%= simple_form_for(resource, :as => resource_name, :url => session_path(resource_name), :align => "center", :namespace => 'signin' ) do |f| %>
            <br>
            <div class="input-prepend">
              <span class="add-on"><i class="icon-user"></i></span>
              <%= f.text_field :login, :required => false, :autofocus => true, :class => "input-medium", :placeholder => "Username or Email" %>
            </div>

            <div class="input-prepend">
              <span class="add-on"><i class="icon-lock"></i></span>
              <%= f.password_field :password, :class => "input-medium", :placeholder => "Password" %>
            </div>

            <div class="btn-toolbar">
              <div class="row-fluid">
                <div class="span12">
                  <%= button_tag :type => "submit", :class => "btn btn-success" do %>
                    <i class="icon-signin"></i>
                    Login
                  <% end %>
                  <%= image_tag "space.png "%>
                  <a data-toggle="modal" href="#myModal">
                    <%= button_tag :type => "submit", :class => "btn btn-success" do %>
                      <i class="icon-pencil"></i>
                      Sign Up
                    <% end %>
                  </a>
                </div>
              </div>
            </div>
            <% end %>

            <div id="myModal" class="well modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="background-color: #e6fae1; width: 35%">
              <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header"style="margin-bottom: -4%; border: none">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-remove" style="color: black"></i>
                      </button>
                      <%= image_tag 'signup.png' %>
                    </div>

                    <div class="modal-body">
                      <% resource.build_user_profile %>
                      <%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :namespace => 'signup') do |g| %>

                        <%= g.input :username, :required => true, :autofocus => true, :class => "input-medium", :placeholder => "Username" %>
                        <%= g.input :email, :required => true, :autofocus => true, :class => "input-medium", :placeholder => "Email" %>
                        <%= g.input :password, :required => true, :class => "input-medium", :placeholder => "Password" %>
                        <%= g.input :password_confirmation, :required => true, :class => "input-medium", :placeholder => "Re-enter password" %>

                        <%= g.fields_for :user_profile do |profile| %>
                          <%= profile.input :name, :required => true, :class => "input-medium", :placeholder => "Name" %>
                          <%= image_tag 'gender.png' %>
                          <%= profile.radio_button :gender, '0' %> <%= image_tag 'female.png' %>  
                          <%= profile.radio_button :gender, '1' %> <%= image_tag 'male.png' %>           
                        <% end %>

                        <br>
                        <%= g.button :submit, "Sign Up", :class => "btn btn-success" %>
                        <br><br>

                      <% end %>
                    </div>
                  </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
          </div>
        </div>

        <p class="template_body">
          <div class="span3" style="width: 62%; margin-left: 0.010%;">
            <div class="hero-unit" style="background-color: #e6fae1">
              <div id="myCarousel" class="carousel slide">
                <div class="carousel-inner">
                  <div class="item active"><!-- <img src="assets/img/cs1.jpg" alt="First slide"> -->
                    <%= image_tag 'cs1.jpg', :alt => "First slide" %>
                    <div class="carousel-caption">
                      <h4>ePortfolio in the comfort of your own home</h4>
                      <p>(First part of ePortfolio tutorial goes here.)</p>
                    </div>
                   </div>

                  <div class="item"><!-- <img src="assets/img/cs2.jpg" alt="Second slide"> -->
                    <%= image_tag 'cs2.jpg', :alt => "Second Slide" %>
                    <div class="carousel-caption">
                      <h4>ePortfolio while on vacation</h4>
                      <p>(Succeeding parts of ePortfolio tutorial go here. More text. MOAR TEX.)</p>
                    </div>
                  </div>

                  <div class="item"><!-- <img src="assets/img/cs3.jpg" alt="Third slide"> -->
                    <%= image_tag 'cs3.jpg', :alt => "Third Slide" %>
                    <div class="carousel-caption">
                      <h4>ePortfolio in freakin' outer space</h4>
                      <p>(Succeeding or last parts of ePortfolio tutorial go here.)</p>
                    </div>
                  </div>
                </div><!-- /carousel-inner-->

                <a class="left carousel-control" href="#myCarousel" data-slide="prev">&lsaquo;</a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next">&rsaquo;</a>
              </div><!-- /carousel-slide-->
            </div><!-- /hero-unit-->
          </div><!-- /span-->
        </p>
      </div><!-- /rowfluid -->
    </div><!-- /containerfluid -->
  </body>

    
<% end %>